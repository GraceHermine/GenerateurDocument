<!-- document.html -->
<div class="container">
  <!-- Liste des documents -->
  <div *ngIf="documents.length > 0; else noDocuments">
    <h2>Mes Documents ({{ documents.length }})</h2>
    
    <div class="document-list">
      <div *ngFor="let doc of documents" class="document-card">
        <h3>{{ doc.titre }}</h3>
        <p>Statut: <span [class]="'status-' + doc.statut">{{ doc.statut }}</span></p>
        <p>Créé le: {{ doc.created_at | date:'dd/MM/yyyy' }}</p>
        
        <div class="document-actions">
          <button (click)="downloadDocument(doc.id)" class="btn-download">
            <span class="material-symbols-outlined">download</span>
            Télécharger
          </button>
          
          <button *ngIf="doc.statut === 'brouillon'" 
                  (click)="finaliserDocument(doc.id)" 
                  class="btn-finalize">
            <span class="material-symbols-outlined">check_circle</span>
            Finaliser
          </button>
          
          <button (click)="deleteDocument(doc.id)" class="btn-delete">
            <span class="material-symbols-outlined">delete</span>
            Supprimer
          </button>
        </div>
      </div>
    </div>
  </div>

  <ng-template #noDocuments>
    <div class="empty-state">
      <p>Aucun document disponible</p>
      <button (click)="createNewDocument()" class="btn-create">
        <span class="material-symbols-outlined">add</span>
        Créer un nouveau document
      </button>
    </div>
  </ng-template>

  <!-- Liste des catégories -->
  <div *ngIf="categories.length > 0">
    <h2>Catégories</h2>
    <div class="categories">
      <div *ngFor="let cat of categories" class="category-chip">
        {{ cat.nom }}
      </div>
    </div>
  </div>

  <!-- Liste des templates -->
  <div *ngIf="templates.length > 0">
    <h2>Templates disponibles</h2>
    <div class="templates-grid">
      <div *ngFor="let template of templates" class="template-card">
        <h3>{{ template.nom }}</h3>
        <p>{{ template.description }}</p>
        <button routerLink="/dynamic-form/{{ template.id }}">
          Utiliser ce template
        </button>
      </div>
    </div>
  </div>
</div>