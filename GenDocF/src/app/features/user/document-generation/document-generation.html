<section class="public-container" *ngIf="!isGenerating; else generatingTemplate">
  <div class="public-panel public-reveal" style="text-align: center;">
    <span class="public-kicker">Generation terminee</span>
    <h1 class="public-title">Document genere avec succes</h1>
    <p class="public-subtitle">Votre document est pret et peut etre telecharge.</p>
  </div>

  <section class="public-section">
    <div class="public-panel public-reveal" style="display: grid; gap: 20px;">
      <div class="public-pill">PDF final • Version {{ documentVersion }}</div>
      <h3>{{ documentTitle }}</h3>
      <p class="public-card-text">Cree le {{ today | date:'dd/MM/yyyy' }} • {{ documentFileSize }}</p>
      <p class="public-card-text">Statut: <strong>{{ documentStatus }}</strong></p>

      <div class="public-actions">
        <button (click)="downloadGeneratedDocument()" class="public-btn public-btn--primary">
          <span class="material-symbols-outlined">download</span>
          Telecharger le PDF
        </button>
        <a [routerLink]="['/document', generatedDocumentId, 'preview']" class="public-btn public-btn--ghost">
          <span class="material-symbols-outlined">fullscreen</span>
          Apercu plein ecran
        </a>
      </div>

      <div class="public-actions" style="justify-content: flex-start;">
        <button (click)="generateAnother()" class="public-btn public-btn--ghost">
          <span class="material-symbols-outlined">autorenew</span>
          Generer un autre document
        </button>
        <button (click)="goToDashboard()" class="public-btn public-btn--ghost">Dashboard</button>
        <button (click)="goToHistory()" class="public-btn public-btn--ghost">Historique</button>
        <button (click)="goToTemplates()" class="public-btn public-btn--ghost">Templates</button>
      </div>
    </div>
  </section>
</section>

<ng-template #generatingTemplate>
  <section class="public-container">
    <div class="public-panel public-reveal" style="text-align: center;">
      <span class="public-kicker">Generation</span>
      <h1 class="public-title">Generation en cours...</h1>
      <p class="public-subtitle">Merci de patienter pendant la creation du document.</p>
      <div class="public-panel" style="margin-top: 20px;">
        <div class="public-pill">Progression 75%</div>
        <div style="height: 10px; border-radius: 999px; background: rgba(26, 27, 31, 0.1); overflow: hidden; margin-top: 12px;">
          <div style="height: 100%; width: 75%; background: var(--public-accent);"></div>
        </div>
      </div>
    </div>
  </section>
</ng-template>